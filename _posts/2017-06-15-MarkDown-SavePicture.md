---
layout: post
title: 把图片存入markdown文件
date: 2017-06-15
tags: MarkDown
---

目录

* TOC 
{:toc}

## 图片

很明显地，要在纯文字应用中设计一个「自然」的语法来插入图片是有一定难度的。

Markdown 使用一种和链接很相似的语法来标记图片，同样也允许两种样式： **行内式**和**参考式**。

行内式的图片语法看起来像是：

`![Alt text](/path/to/img.jpg)`

`![Alt text](/path/to/img.jpg "Optional title")`


详细叙述如下：

>* 一个惊叹号 !
>* 接着一个方括号，里面放上图片的替代文字
>* 接着一个普通括号，里面放上图片的网址，最后还可以用引号包住并加上 选择性的 'title' 文字。

参考式的图片语法则长得像这样：

	![Alt text][id]

「id」是图片参考的名称，图片参考的定义方式则和连结参考一样：

	[id]: url/to/image  "Optional title attribute"

到目前为止， Markdown 还没有办法指定图片的宽高，如果你需要的话，你可以使用普通的 <img> 标签。

## 导入

### 插入本地图片

只需要在基础语法的括号中填入图片的位置路径即可，支持绝对路径和相对路径。

例如：

`![avatar](/user/desktop/doge.png)`

>缺点是不灵活不好分享，本地图片的路径更改或丢失都会造成markdown文件调不出图。


### 插入网络图片

只需要在基础语法的括号中填入图片的网络链接即可，现在已经有很多免费/收费图床和方便传图的小工具可选。

例如：

`![avatar](http://baidu.com/pic/doge.png)`

>缺点是图片存在网络服务器上，非常依赖网络。

<br/>### **把图片存入markdown文件**

用base64转码工具把图片转成一段字符串，然后把字符串填到基础格式中链接的那个位置。

基础用法：

`![avatar](data:image/png;base64,iVBORw0......)`

这个时候会发现插入的这一长串字符串会把整个文章分割开，非常影响编写文章时的体验。如果能够把大段的base64字符串放在文章末尾，然后在文章中通过一个id来调用，文章就不会被分割的这么乱了。就像写论文时的文末的注释和参考文档一样。这个想法可以通过markdown的参考式链接语法来实现。

进阶用法如下：参考式

文中引用语法：

`![avatar][doge]`

文末存储字符串语法：

`[doge]:data:image/png;base64,iVBORw0......`

>这个用法不常见，比较野路子。优点是很灵活，不会有链接失效的困扰。缺点是一大团base64的乱码看着不美观。

